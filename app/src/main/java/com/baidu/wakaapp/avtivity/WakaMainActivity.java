/* * Copyright (c) 2018. puchunjie */package com.baidu.wakaapp.avtivity;import android.os.Bundle;import android.support.v4.app.Fragment;import android.support.v4.app.FragmentStatePagerAdapter;import android.support.v4.view.ViewPager;import android.support.v7.app.AppCompatActivity;import android.view.View;import android.widget.RadioButton;import android.widget.Toast;import com.baidu.wakaapp.R;import com.baidu.wakaapp.fragment.HomeFragment;import com.baidu.wakaapp.fragment.VeidoFragment;import com.baidu.wakaapp.helper.ShakePhoneManager;import java.util.ArrayList;import java.util.List;public class WakaMainActivity extends AppCompatActivity implements View.OnClickListener {    public static final String TAG = WakaMainActivity.class.getSimpleName();    private ViewPager viewPager;    private List<Fragment> list;    private RadioButton rb_home;    private RadioButton rb_vedio;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_waka_main);        initView();        initData();    }    private void initView() {        viewPager = findViewById(R.id.vp_content);        rb_vedio = findViewById(R.id.rb_vedio);        rb_home = findViewById(R.id.rb_home);        list = new ArrayList<Fragment>();        HomeFragment homeFragment = new HomeFragment();        VeidoFragment veidoFragment = new VeidoFragment();        list.add(homeFragment);        list.add(veidoFragment);        rb_home.setOnClickListener(this);        rb_vedio.setOnClickListener(this);    }    private void initData() {        ShakePhoneManager manager = new ShakePhoneManager(this);        viewPager.setAdapter(new FragmentStatePagerAdapter(getSupportFragmentManager()) {            @Override            public Fragment getItem(int i) {                return list.get(i);            }            @Override            public int getCount() {                return list.size();            }        });        viewPager.setCurrentItem(0);        rb_home.setTextColor(getResources().getColor(R.color.color_f8999a));        rb_vedio.setTextColor(getResources().getColor(R.color.black));        viewPager.addOnPageChangeListener(new ViewPager.OnPageChangeListener() {            @Override            public void onPageScrolled(int i, float v, int i1) {            }            @Override            public void onPageSelected(int i) {                if (i == 0) {                    rb_vedio.setTextColor(getResources().getColor(R.color.black));                    rb_vedio.setChecked(false);                    rb_home.setTextColor(getResources().getColor(R.color.color_f8999a));                    rb_home.setChecked(true);                } else {                    rb_home.setTextColor(getResources().getColor(R.color.black));                    rb_home.setChecked(false);                    rb_vedio.setTextColor(getResources().getColor(R.color.color_f8999a));                    rb_vedio.setChecked(true);                }            }            @Override            public void onPageScrollStateChanged(int i) {            }        });        manager.setOnShakeListener(new ShakePhoneManager.OnShakeListener() {            @Override            public void onShake() {                Toast.makeText(WakaMainActivity.this, "你在摇晃手机", Toast.LENGTH_SHORT).show();            }        });    }    @Override    public void onClick(View v) {        switch (v.getId()) {            case R.id.rb_home:                viewPager.setCurrentItem(0);                rb_home.setTextColor(getResources().getColor(R.color.color_f8999a));                rb_vedio.setTextColor(getResources().getColor(R.color.black));                break;            case R.id.rb_vedio:                viewPager.setCurrentItem(1);                rb_home.setTextColor(getResources().getColor(R.color.black));                rb_vedio.setTextColor(getResources().getColor(R.color.color_f8999a));                break;            default:                break;        }    }}